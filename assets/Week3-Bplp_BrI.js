import{c as d,o as l,a as t,t as r,F as h,b as _,e as f,f as I,r as b,g as C,w as q,v as w,h as x,i as g}from"./index-DoRPuqLc.js";const T=["value"],Q=["value"],B={__name:"CartItem",props:["cartItem"],emits:["remove-to-cart","update-quantity"],setup(o,{emit:u}){const e=o,a=u,p=m=>{a("update-quantity",{id:e.cartItem.product.id,quantity:Number(m.target.value)})};return(m,v)=>(l(),d("tr",null,[t("td",null,[t("button",{onClick:v[0]||(v[0]=i=>a("remove-to-cart",o.cartItem.product.id)),type:"button",class:"btn btn-sm"}," x ")]),t("td",null,r(o.cartItem.product.name),1),t("td",null,[t("small",null,r(o.cartItem.product.description),1)]),t("td",null,[t("select",{value:o.cartItem.quantity,onChange:p,class:"form-select"},[(l(),d(h,null,_(10,i=>t("option",{key:i,value:i},r(i),9,Q)),64))],40,T)]),t("td",null,r(o.cartItem.product.price),1),t("td",null,r(o.cartItem.product.price*o.cartItem.quantity),1)]))}},N={class:"card-body"},V={class:"card-title"},D={class:"table"},j={class:"text-end"},F={class:"text-end"},L={__name:"OrderList",props:["order"],setup(o){return(u,e)=>(l(),d("div",N,[t("div",V,[e[3]||(e[3]=t("h5",null,"訂單",-1)),t("table",D,[e[0]||(e[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(l(!0),d(h,null,_(o.order.cart,a=>(l(),d("tr",{key:a.product.id},[t("td",null,r(a.product.name),1),t("td",null,r(a.quantity),1),t("td",null,r(a.product.price*a.quantity),1)]))),128))])]),t("div",j,[e[1]||(e[1]=f(" 備註: ",-1)),t("span",null,r(o.order.note),1)]),t("div",F,[t("h5",null,[e[2]||(e[2]=f(" 總計: ",-1)),t("span",null,"$"+r(o.order.totalCost),1)])])])]))}},M={class:"d-flex w-100 justify-content-between"},O={class:"mb-1"},U={class:"mb-1"},A={__name:"ProductItem",props:["product"],emits:["add-to-cart"],setup(o,{emit:u}){const e=u;return(a,p)=>(l(),d("a",{onClick:p[0]||(p[0]=I(m=>e("add-to-cart",o.product),["prevent"])),href:"#",class:"list-group-item list-group-item-action"},[t("div",M,[t("h5",O,r(o.product.name),1),t("small",null,"$"+r(o.product.price),1)]),t("p",U,r(o.product.description),1)]))}},E={id:"root"},P={class:"container py-5"},R={class:"row"},S={class:"col-md-4"},W={class:"list-group"},z={class:"col-md-8"},G={class:"table"},H={class:"text-end mb-3"},J={key:1,class:"alert alert-primary text-center mb-0"},K={class:"row justify-content-center"},X={class:"col-8"},Y={key:0,class:"card"},Z={key:1,class:"alert alert-secondary text-center mb-0"},et={__name:"Week3",setup(o){const u=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}],e=b([]),a=c=>{e.value.findIndex(s=>s.product.id===c.id)===-1&&e.value.push({product:{...c},quantity:1})},p=c=>{const n=e.value.findIndex(s=>s.product.id===c);n!==-1&&e.value.splice(n,1)},m=({id:c,quantity:n})=>{const s=e.value.find(k=>k.product.id===c);s&&(s.quantity=n)},v=C(()=>e.value.reduce((c,n)=>c+n.product.price*n.quantity,0)),i=b({}),y=b(""),$=()=>{i.value={cart:e.value.map(c=>({...c})),note:y.value,totalCost:v.value},e.value=[],y.value=""};return(c,n)=>(l(),d("div",E,[t("div",P,[t("div",R,[t("div",S,[t("div",W,[(l(),d(h,null,_(u,s=>x(A,{key:s.id,product:s,onAddToCart:a},null,8,["product"])),64))])]),t("div",z,[e.value.length>0?(l(),d(h,{key:0},[t("table",G,[n[1]||(n[1]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(l(!0),d(h,null,_(e.value,s=>(l(),g(B,{key:s.product.id,cartItem:s,onRemoveToCart:p,onUpdateQuantity:m},null,8,["cartItem"]))),128))])]),t("div",H,[t("h5",null,[n[2]||(n[2]=f(" 總計: ",-1)),t("span",null,"$"+r(v.value),1)])]),q(t("textarea",{"onUpdate:modelValue":n[0]||(n[0]=s=>y.value=s),class:"form-control mb-3",rows:"3",placeholder:"備註"},null,512),[[w,y.value]]),t("div",{class:"text-end"},[t("button",{onClick:$,class:"btn btn-primary"},"送出")])],64)):(l(),d("div",J," 購物車內還沒有任何商品，點擊左側選單加入商品吧！ "))])]),n[3]||(n[3]=t("hr",null,null,-1)),t("div",K,[t("div",X,[i.value.cart?(l(),d("div",Y,[x(L,{order:i.value},null,8,["order"])])):(l(),d("div",Z,"尚未建立訂單"))])])])]))}};export{et as default};
